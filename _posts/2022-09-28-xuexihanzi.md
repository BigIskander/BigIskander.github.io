---
layout: post
title: "Простая программа для изучения китайских слов 汉字"
code: "Y"
---
Когда начал изучать китайский язык заметил, что китайские слова (иероглифы) запоминаются не так легко как хотелось бы. Тогда и начал применять программы для запоминания слов. В сети есть хорошие сервисы для изучения слов, которыми я пользуюсь, такие как trainchinese.com и quizlet.com. К сожалению, в бесплатной версии доступна только часть функционала. И бесплатного функционала для меня недостаточно чтобы хорошо запоминать слова. В прошлом я просто оплатил бы подписку, но сейчас платежи не ходят и зарубежные сервисы не оплатить. Так и появилась задумка написать собственную программу для запоминания слов. В последствии эту программу я применял в дополнение к другим методам запоминания слов.

У меня было мало свободного времени. Поэтому, я хотел написать максимально простую в реализации программу, которая помогла бы мне в запоминании слов. В ходе размышлений выбор пал на язык программирования Python. Чтобы упростить задачу, решил писать программу у которой нет графического интерфейса как такового, т.е. фактически консольное приложение.

<i>Update: На сегодняшний день доступная новая, <a href="/2023/09/05/xuexihanzi_js.html" target="_blank" rel="opener">3 версия программы</a>.</i>

<h2>Содержание.</h2>
<ul>
<li><a href="#program_can">О том что должна уметь делать программа.</a></li>
<li><a href="#sys_req">Требования к системе.</a></li>
<li><a href="#program_folder">Содержимое папки с программой.</a></li>
<li><a href="#howto">Как работать с программой.</a></li>
<li><a href="#cmd_run">Запуск выполнения программы с командной строки.</a></li>
<li><a href="#link">Ссылка на скачивание программы.</a></li>
</ul>

<h2 id="program_can">О том что должна уметь делать программа.</h2>

Я хотел, чтобы программа умела делать 3 вещи:

<ol>
<li>Строить тесты показывающие слова на китайском (т.е. иероглифы 汉字) и 4 варианта перевода (ответа), где только 1 из 4 вариантов ответа верный.</li>
<li>Строить тесты показывающие слова на русском и 4 варианта перевода на китайский, где только 1 из 4 вариантов верный.</li>
<li>Предлагать открытые вопросы, где требуется самому набрать иероглифами верный вариант перевода на китайский язык.</li>
</ol>

<h2 id="sys_req">Требования к системе.</h2>

Для работы программы на компьютере обязательно должен быть установлен <b>Python 3</b> версии (скачать можно отсюда: <a href="https://www.python.org/downloads/" target="_blank" >https://www.python.org/downloads/</a>). Программа может работать как в операционной системе Windows так и в Linux. Работу программы проверял в операционных системах Windows 10 и Ubuntu 18. Возможность работы программы в операционной системе Mac OS не проверял.  

<h2 id="program_folder">Содержимое папки с программой.</h2>

Набор слов для работы программы хранится в текстовом файле words.txt, находящемся в папке с программой. Для корректной работы этот файл должен быть оформлен следующим образом:

<ol>
<li>Кодировка файла <b>UTF-8.</b></li>
<li>В файле не должно быть пустых строк.</li>
<li>Каждая строка в файле должна содержать два значения: слово на китайском 汉字 и перевод, разделенные знаком табуляции. </li>
</ol>

<div class="code">
<div class="code_header">
  <span class="link_span" onclick="show_hide('code_1')">Пример строки в файле со словами: (<em>показать</em>):</span>
</div>
<div id="code_1" class="code_lines_hide">
<pre><code class="language-R line-numbers">汉字&#9;китайские символы (hànzì)
</code></pre>
</div></div>

Файл с набором слов можно редактировать (добавлять и удалять слова), пока этот файл оформлен корректно программа будет работать. При необходимости слова можно экспортировать напрямую из <a href="https://quizlet.com/" target="_blank" >quizlet.com</a> (сразу в правильном формате) и добавлять в файл со словами (или просто заменить содержимое файла новым словами).

<img src="/assets/images/posts/2022-09-28-xuexihanzi/1.webp" height=200 class="zoomable" alt="Снимок с экрана компьютера." />

<img src="/assets/images/posts/2022-09-28-xuexihanzi/2.webp" height=500 class="zoomable" alt="Снимок с экрана компьютера." />

Сама программа это файл <b>learn.py</b> написанный на языке программирования <b>Python 3</b>.

В папке с программой так же находятся два небольших скрипта командной строки. Одна для операционной системы Windows (<b>run.bat</b>), вторая для операционной системы Linux (<b>run_linux.sh</b>). Скрипт говорит интерпретатору Python запустить выполнение программы (файл <b>learn.py</b>) и перезапускает программу, если работа программы была завершена. Эти скрипты добавлены только для удобства, можно и напрямую запускать выполнение  программы (файла <b>learn.py</b>).

<h2 id="howto">Как работать с программой.</h2>

В операционной системе (ос) Windows программу можно запустить дважды кликнув левой кнопкой мышки по файлу <b>run.bat</b>. В операционной системе Linux программу можно запустить  дважды кликнув мышкой по файлу <b>run_linux.sh</b>. Программу можно так же запустить из командной строки (о том как это сделать будет написано ниже).

Далее идет объяснение, как работать с программой на примере ос Windows, в ос Linux действия будут аналогичными.

<img src="/assets/images/posts/2022-09-28-xuexihanzi/3.webp" width=800 class="zoomable" alt="Снимок с экрана компьютера." />

Сразу после запуска программа предлагает три опции на выбор. Нужно набрать в консоли номер опции (1 - 3) и нажать Enter.

<img src="/assets/images/posts/2022-09-28-xuexihanzi/4.webp" width=800 class="zoomable" alt="Снимок с экрана компьютера." />

<b>Допустим вы выбрали опцию 1 (тест слово перевод CNY - > RUS) и нажали Enter.</b>

Программа будет отображать слово написанное иероглифами и предлагать 4 варианта перевода, где только 1 из 4 вариантов ответа верный. Нужно набрать номер варианта (1 - 4) и нажать Enter. Если ответ неверный программа повторно отобразит тот же самый тест, если ответ верный программа отобразит следующий иероглиф с 4 вариантами перевода. И так, пока не будут просмотрены все слова. Порядок отображения иероглифов является случайным и меняется каждый раз при перезапуске программы. Все слова для работы программы хранятся в файле <b>words.txt</b> находящемся в папке с программой (подробнее об этом было написано <a href="#program_folder" >выше</a>).

<img src="/assets/images/posts/2022-09-28-xuexihanzi/5.webp" width=800 class="zoomable" alt="Снимок с экрана компьютера." />

После того, как все слова были просмотрены, программа сообщит об этом, далее нажатие кнопки Enter приведет к завершению работы программы. Для повторного изучения, требуется снова перезапустить программу.

<img src="/assets/images/posts/2022-09-28-xuexihanzi/6.webp" width=800 class="zoomable" alt="Снимок с экрана компьютера." />

<b>Теперь, предположим, что вы перезапустили программу и выбрали опцию 2 (тест слово перевод RUS -> CNY).</b>

<img src="/assets/images/posts/2022-09-28-xuexihanzi/7.webp" width=800 class="zoomable" alt="Снимок с экрана компьютера." />

В этом случае программа будет показывать текст и предлагать 4 варианта перевода слова на китайский язык, только 1 из 4 вариантов ответа является верным. В остальном опция 2 работает аналогично опции 1.

<img src="/assets/images/posts/2022-09-28-xuexihanzi/8.webp" width=800 class="zoomable" alt="Снимок с экрана компьютера." />

<b>Теперь, предположим, что вы перезапустили программу и выбрали опцию 3 (ввести ответ 汉字).</b>

<img src="/assets/images/posts/2022-09-28-xuexihanzi/9.webp" width=800 class="zoomable" alt="Снимок с экрана компьютера." />

В этом случае программа будет показывать слово (текст) и нужно будет самому ввести иероглифами правильный перевод (на китайский) в консоли и нажать Enter. Если ответ неверный, то программа заново отобразит то же самое слово, если ответ верный то программа покажет следующее слово и так пока все слова не будут просмотрены.

<img src="/assets/images/posts/2022-09-28-xuexihanzi/10.webp" width=800 class="zoomable" alt="Снимок с экрана компьютера." />

Последнюю опцию (опцию номер 3) можно хорошо сочетать с применением рукописного ввода встроенного <b>Windows 10</b> (о том как включить рукописный ввод в Windows 10 написал <a href="/2022/09/28/hanziwin10.html" target="_blank" rel="opener">здесь</a>).

<img src="/assets/images/posts/2022-09-28-xuexihanzi/11.webp" width=800 class="zoomable" alt="Снимок с экрана компьютера." />

<b>О том откуда взялись лишние пробелы между буквами в русских словах.</b>

Встроенный терминал <b>Windows</b> не поддерживает <b>UTF-8</b>. Поэтому в операционной системе Windows для отображения иероглифов, программа меняет кодовую страницу консоли на китайскую иначе вместо иероглифов будут отображаться пустые квадратики. Проблема в том, что при этом русские надписи начинают отображаться с лишними пробелами между буквами. Это доставляет определенные неудобства в пользовании программой, хоть на работу самой программы и не влияет.

Для решения этой проблемы в Windows можно установить альтернативный терминал командной строки, с поддержкой <b>UTF-8</b>, например <b>Tabby</b> (скачать можно отсюда <a href="https://tabby.sh/" target="_blank" >https://tabby.sh</a>). И запускать программу в альтернативном терминале. Пример работы программы в альтернативном терминале:

<img src="/assets/images/posts/2022-09-28-xuexihanzi/12.webp" width=800 class="zoomable" alt="Снимок с экрана компьютера." />

В операционной системе <b>Linux</b> такая проблема отсутствует. Ниже пример того как программа выглядит в операционной системе <b>Ubuntu 18</b>.

<img src="/assets/images/posts/2022-09-28-xuexihanzi/13.webp" class="zoomable" alt="Снимок с экрана компьютера." />

<h2 id="cmd_run">Запуск выполнения программы с командной строки.</h2>

Запустить программу непосредственно из командной строки (терминала, консоли) можно следующим способом:

1) Нажать в папке с программой сочетание клавиш <b>Shift + Правая кнопка мышки</b> и в открывшемся контекстном меню выбрать пункт соответствующий названию терминала (консоли).

2) В консоли набрать одну из следующих команд , в зависимости от операционной системы: <code>.\run.bat</code> в ос Windows или <code>.\run_linux.sh</code> в ос Linux и нажать <b>Enter</b>. Или для запуска программы напрямую набрать <code>python .\learn.py</code> или <code>python3 .\learn.py</code> и нажать <b>Enter</b>.

<b>Установка альтернативного терминала в Windows.</b>

Для решения проблемы с кривым отображением русских слов в ос <b>Winsows</b> можно поставить альтернативный терминал командной строки <b>Tabby</b> (скачать можно отсюда <a href="https://tabby.sh/" target="_blank" >https://tabby.sh</a>) и в его настройках включить "Интеграцию в систему":

<img src="/assets/images/posts/2022-09-28-xuexihanzi/14.webp" width=800 class="zoomable" alt="Снимок с экрана компьютера." />

Далее, для запуска программы, кликнуть правой кнопкой мыши (в пустом месте) в папке с программой и в появившемся меню выбрать пункт "Open Tabby here".

<img src="/assets/images/posts/2022-09-28-xuexihanzi/15.webp" class="zoomable" alt="Снимок с экрана компьютера." />

Затем, в окне консоли набрать команду <code>.\run.bat</code> и нажать <b>Enter</b> для того, чтобы запустить выполнение программы в этом терминале.

<img src="/assets/images/posts/2022-09-28-xuexihanzi/16.webp" width=800 class="zoomable" alt="Снимок с экрана компьютера." />

<h2 id="link">Ссылка на скачивание программы.</h2>

<a href="https://github.com/BigIskander/xuexihanzi/tree/ver-1" target="_blank" >Скачать программу.</a>

Для тех, кто хотел бы посмотреть, как устроена программа и возможно переписать программу под себя. Исходный код программы полностью открытый. По сути, вся программа- это просто текстовый файл с кодом написанным на языке программирования Python 3 (и без уставки Python на компьютер программа не будет работать).

Программу писал, в первую очередь, для личного пользования. Надеюсь, для вас эта программа тоже окажется полезной. Удачи в изучении китайского языка.

再见。

<script>
    links = [
        "Начало.", "#top_of_content",
        "О том что должна уметь делать программа.", "#program_can",
        "Требования к системе.", "#sys_req",
        "Содержимое папки с программой.", "#program_folder",
        "Как работать с программой.", "#howto",
        "Запуск выполнения программы с командной строки.", "#cmd_run",
        "Ссылка на скачивание программы.", "#link"
    ];
</script>